spring:
  application:
    name: smartcampost-backend

  datasource:
    url: jdbc:mysql://localhost:3306/smartcampost?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Africa/Douala
    username: root
    password: "Arthur@237"   # quotes OK for @
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      pool-name: SmartPool

  jpa:
    hibernate:
      ddl-auto: update        # use "validate" in production
    properties:
      hibernate:
        format_sql: true
    show-sql: true

  ai:
    openai:
      # DO NOT hardcode keys in source. Use an env var:
      api-key: ${OPENAI_API_KEY:}   # leave empty default locally if you prefer
  # System prompt used for AI assistant (override via env SMARTCAMPOST_AI_SYSTEM_PROMPT)

server:
  port: 8080

# MTN Mobile Money credentials for local testing (move to secure env in production)
MTN_CONSUMER_KEY: xTZAlZAqwp4AKPR3BVkYECi4rZgEaZbn
MTN_CONSUMER_SECRET: RlbUxdfmZzwo68xf
# Optional: set these to real MTN sandbox/production endpoints
MTN_TOKEN_URL: ""
MTN_INIT_URL: ""

# SmartCAMPOST QR Code Security Configuration
smartcampost:
  ai:
    system-prompt: "You are SmartCAMPOST AI, the official intelligent assistant of Cameroon Postal Services. You help users track parcels, understand delivery timelines, resolve issues, manage pickups, payments, and accounts. Be concise, accurate, friendly, and professional. If data is missing, ask clarifying questions. Never hallucinate parcel statuses or user data. When relevant, guide users step-by-step."
  qr:
    # Secret key for HMAC-SHA256 signature (MUST be changed in production!)
    # Use an environment variable: ${QR_SECRET_KEY:defaultKey}
    secret-key: ${QR_SECRET_KEY:SmartCampost2024SecureQRKey!@#$%^&*}
    # Maximum QR code verifications per token per hour (rate limiting)
    max-verifications-per-hour: 100
    # Temporary QR code validity in hours
    temporary-validity-hours: 48

logging:
  level:
    org.hibernate.SQL: debug
    org.hibernate.type.descriptor.sql: trace
